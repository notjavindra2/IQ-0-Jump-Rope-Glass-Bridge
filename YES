local Version = "1.6.31"
local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/download/" .. Version .. "/main.lua"))()
local Window = WindUI:CreateWindow({Title="IQ 0 Jump Rope Glass Bridge",Size=UDim2.new(0,500,0,400),Theme="Dark"})

local MainTab = Window:Tab({Title="Main",Icon="home"})
local MiscTab = Window:Tab({Title="Misc",Icon="rbxassetid://4483345998"})
local ESPTab = Window:Tab({Title="ESP",Icon="eye"})

local winLoop = false
local selectedPlayer = "None"
local dropdownRef
local WalkSpeedValue = 16
local JumpPowerValue = 50
local SpeedEnabled = false
local LocalPlayer = game.Players.LocalPlayer
local TeleportService = game:GetService("TeleportService")
local HttpService = game:GetService("HttpService")

MainTab:Toggle({
    Title="Auto Win Loop",
    Desc="Continuously fire Win remote",
    Icon="check",
    Type="Checkbox",
    Default=false,
    Callback=function(state)
        winLoop=state
        if state then
            task.spawn(function()
                while winLoop do
                    local events=game:GetService("ReplicatedStorage").Events
                    if events and events:FindFirstChild("Win") then
                        events.Win:FireServer()
                    end
                    task.wait(0.1)
                end
            end)
        end
    end
})

MainTab:Button({
    Title="Teleport to Position",
    Icon="location-arrow",
    Callback=function()
        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
            LocalPlayer.Character.HumanoidRootPart.CFrame=CFrame.new(-11.131,23.994,423.444)
        end
    end
})

local function getPlayerList()
    local list={"None"}
    for _,plr in ipairs(game.Players:GetPlayers()) do
        if plr~=LocalPlayer then
            table.insert(list,plr.Name)
        end
    end
    return list
end

dropdownRef=MainTab:Dropdown({
    Title="Select Player",
    Values=getPlayerList(),
    Value="None",
    SearchBarEnabled=true,
    Callback=function(opt) selectedPlayer=opt end
})

local function refreshDropdown()
    local newList=getPlayerList()
    dropdownRef:Refresh(newList)
    if selectedPlayer~="None" and not table.find(newList,selectedPlayer) then
        selectedPlayer="None"
        if dropdownRef.Set then dropdownRef:Set("None") end
    end
end

game.Players.PlayerAdded:Connect(refreshDropdown)
game.Players.PlayerRemoving:Connect(refreshDropdown)

MainTab:Button({
    Title="Teleport to Selected Player",
    Icon="user",
    Callback=function()
        if selectedPlayer~="None" then
            local target=game.Players:FindFirstChild(selectedPlayer)
            if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
                if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                    LocalPlayer.Character.HumanoidRootPart.CFrame=target.Character.HumanoidRootPart.CFrame
                end
            end
        end
    end
})

MiscTab:Slider({
    Title="WalkSpeed",
    Default=16,Min=16,Max=200,
    Callback=function(v) WalkSpeedValue=v; SpeedEnabled=true end
})

MiscTab:Slider({
    Title="JumpPower",
    Default=50,Min=50,Max=200,
    Callback=function(v) JumpPowerValue=v; SpeedEnabled=true end
})

MiscTab:Button({
    Title="Rejoin",
    Callback=function() TeleportService:TeleportToPlaceInstance(game.PlaceId,game.JobId,LocalPlayer) end
})

MiscTab:Button({
    Title="Server Hop",
    Callback=function()
        local servers={}
        local suc,res=pcall(function()
            return game:HttpGet("https://games.roblox.com/v1/games/"..game.PlaceId.."/servers/Public?sortOrder=Asc&limit=100")
        end)
        if suc then
            local data=HttpService:JSONDecode(res)
            for _,srv in pairs(data.data) do
                if srv.playing<srv.maxPlayers and srv.id~=game.JobId then
                    table.insert(servers,srv.id)
                end
            end
            if #servers>0 then
                TeleportService:TeleportToPlaceInstance(game.PlaceId,servers[math.random(#servers)],LocalPlayer)
            end
        end
    end
})

MiscTab:Button({
    Title="Copy Discord",
    Callback=function() setclipboard("https://discord.gg/merquryhub") end
})

local ESPPlayers={}
local ESPColor=Color3.fromRGB(0,0,255)

for _,plr in ipairs(game.Players:GetPlayers()) do
    if plr~=LocalPlayer then
        ESPPlayers[plr.Name]=false
        ESPTab:Toggle({
            Title=plr.Name.." ESP",
            Desc="Toggle ESP for "..plr.Name,
            Icon="eye",
            Type="Checkbox",
            Default=false,
            Callback=function(state) ESPPlayers[plr.Name]=state end
        })
    end
end

local ColorPicker=ESPTab:Colorpicker({
    Title="ESP Color",
    Default=ESPColor,
    Callback=function(c) ESPColor=c end
})

game.Players.PlayerAdded:Connect(function(plr)
    if plr~=LocalPlayer then
        ESPPlayers[plr.Name]=false
        ESPTab:Toggle({
            Title=plr.Name.." ESP",
            Desc="Toggle ESP for "..plr.Name,
            Icon="eye",
            Type="Checkbox",
            Default=false,
            Callback=function(state) ESPPlayers[plr.Name]=state end
        })
    end
end)

game:GetService("RunService").RenderStepped:Connect(function()
    for plr,state in pairs(ESPPlayers) do
        local target=game.Players:FindFirstChild(plr)
        if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
            if state then
                if not target.Character:FindFirstChild("ESPBox") then
                    local box=Instance.new("BoxHandleAdornment")
                    box.Name="ESPBox"
                    box.Adornee=target.Character:FindFirstChild("HumanoidRootPart")
                    box.Size=Vector3.new(2,5,1)
                    box.Color=ESPColor
                    box.AlwaysOnTop=true
                    box.Parent=target.Character
                else
                    target.Character.ESPBox.Color=ESPColor
                end
            else
                if target.Character:FindFirstChild("ESPBox") then
                    target.Character.ESPBox:Destroy()
                end
            end
        end
    end
end)
